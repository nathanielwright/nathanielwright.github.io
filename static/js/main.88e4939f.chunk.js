(this.webpackJsonptvdevicestats=this.webpackJsonptvdevicestats||[]).push([[0],{16:function(e,t,i){},17:function(e,t,i){"use strict";i.r(t);var n=i(1),a=i.n(n),r=i(0),o=i(2),s=i(3),c=i(5),l=i(4),u=i(8),m=i.n(u),b=i(6),d=["Default EME","MS EME","Webkit EME"],p={widevine:["com.widevine.alpha"],playready:["com.microsoft.playready","com.youtube.playready"],clearkey:["webkit-org.w3.clearkey","org.w3.clearkey"],fairplay:["com.apple.fps.2_0","com.apple.fps.1_0"],primetime:["com.adobe.primetime","com.adobe.access"]},h=[{initDataTypes:["cenc"],audioCapabilities:[{contentType:'audio/mp4;codecs="mp4a.40.2"'}],videoCapabilities:[{contentType:'video/mp4;codecs="avc1.42E01E"'}]}];var v="/Users/nathaniel.wright/git/tvdevicestats/src/drm/playready.js",y=function(e){Object(c.a)(i,e);var t=Object(l.a)(i);function i(){return Object(o.a)(this,i),t.apply(this,arguments)}return Object(s.a)(i,[{key:"render",value:function(){return Object(r.jsxDEV)("div",{children:Object(r.jsxDEV)("video",{autoPlay:!0,controls:!0,id:"PRplayer",children:Object(r.jsxDEV)("source",{src:"./LicenseAcquisition.xml",type:"application/vnd.ms-playready.initiator+xml"},void 0,!1,{fileName:v,lineNumber:11,columnNumber:17},this)},void 0,!1,{fileName:v,lineNumber:10,columnNumber:13},this)},void 0,!1,{fileName:v,lineNumber:9,columnNumber:13},this)}}]),i}(a.a.Component),f="/Users/nathaniel.wright/git/tvdevicestats/src/drm/drm.js",j=function(e){Object(c.a)(i,e);var t=Object(l.a)(i);function i(){return Object(o.a)(this,i),t.apply(this,arguments)}return Object(s.a)(i,[{key:"render",value:function(){var e=this,t=d;return Object(r.jsxDEV)("div",{className:"EME",children:[t.map((function(t){return Object(r.jsxDEV)(E,{EME:t},t,!1,{fileName:f,lineNumber:17,columnNumber:17},e)})),Object(r.jsxDEV)(y,{},void 0,!1,{fileName:f,lineNumber:19,columnNumber:13},this)]},"EME",!0,{fileName:f,lineNumber:15,columnNumber:13},this)}}]),i}(a.a.Component),E=function(e){Object(c.a)(i,e);var t=Object(l.a)(i);function i(){return Object(o.a)(this,i),t.apply(this,arguments)}return Object(s.a)(i,[{key:"render",value:function(){return Object(r.jsxDEV)("div",{className:"DRMKeySystem",id:this.props.keySystem,children:[this.props.EME,Object(r.jsxDEV)(N,{EME:this.props.EME},void 0,!1,{fileName:f,lineNumber:32,columnNumber:12},this)]},this.props.EME+"-"+this.props.keySystem,!0,{fileName:f,lineNumber:29,columnNumber:12},this)}}]),i}(a.a.Component),N=function(e){Object(c.a)(i,e);var t=Object(l.a)(i);function i(){return Object(o.a)(this,i),t.apply(this,arguments)}return Object(s.a)(i,[{key:"render",value:function(){var e=this,t=p;return Object(r.jsxDEV)("div",{children:Object.keys(t).map((function(i){return Object(r.jsxDEV)("div",{id:i,children:t[i].map((function(t){return Object(r.jsxDEV)(O,{EME:e.props.EME,subKey:t},e.props.EME+"-"+i+"-"+t,!1,{fileName:f,lineNumber:47,columnNumber:25},e)}))},e.props.EME+"-"+i,!1,{fileName:f,lineNumber:45,columnNumber:21},e)}))},void 0,!1,{fileName:f,lineNumber:42,columnNumber:13},this)}}]),i}(a.a.Component),O=function(e){Object(c.a)(i,e);var t=Object(l.a)(i);function i(e){var n;return Object(o.a)(this,i),(n=t.call(this,e)).state={colour:"black"},n.setSubSystem=n.setSubSystem.bind(Object(b.a)(n)),n}return Object(s.a)(i,[{key:"setSubSystem",value:function(e){var t;t=e?"green":"red",this.changeColour(t)}},{key:"componentDidMount",value:function(){var e,t,i;"Default EME"===this.props.EME&&(e=this.setSubSystem,this.props.EME,t=this.props.subKey,i=h,window.navigator.requestMediaKeySystemAccess?window.navigator.requestMediaKeySystemAccess(t,i).then((function(t){e(!0)})).catch((function(t){e(!1)})):e(!1)),"Webkit EME"===this.props.EME&&function(e,t,i,n){var a=document.createElement("video");"function"===typeof a.webkitGenerateKeyRequest&&a.canPlayType(n,i)?e(!0):e(!1)}(this.setSubSystem,this.props.EME,this.props.subKey,"video/mp4"),"MS EME"===this.props.EME&&function(e,t,i){"function"===typeof window.MSMediaKeys&&window.MSMediaKeys.isTypeSupported(i)?e(!0):e(!1)}(this.setSubSystem,this.props.EME,this.props.subKey)}},{key:"changeColour",value:function(e){this.setState({colour:e})}},{key:"render",value:function(){return Object(r.jsxDEV)("span",{id:this.props.subKey,className:"drmSubKey",style:{color:this.state.colour},children:this.props.subKey},void 0,!1,{fileName:f,lineNumber:92,columnNumber:13},this)}}]),i}(a.a.Component),M="/Users/nathaniel.wright/git/tvdevicestats/src/memory.js",k=void 0,S=function(e){Object(c.a)(i,e);var t=Object(l.a)(i);function i(e){var n;return Object(o.a)(this,i),(n=t.call(this,e)).state={remaining:1024*navigator.deviceMemory,allocated:0,allocationindex:0},n.blockSize=0,n.memalloc=[],n.stopAt=512,n}return Object(s.a)(i,[{key:"getMemory",value:function(){return(1024*navigator.deviceMemory).toString()+" MB"}},{key:"addElement",value:function(){for(var e=[],t=0;t<1e3;t++)e.push(t/10);0===this.blockSize&&(this.blockSize=function(e){var t=0;function i(e){if(null!==e&&void 0!==e)switch(typeof e){case"number":t+=8;break;case"string":t+=2*e.length;break;case"boolean":t+=4;break;case"object":var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n||"Array"===n)for(var a in e)e.hasOwnProperty(a)&&i(e[a]);else t+=2*e.toString().length;break;default:console.log("Unhandled type: "+typeof e)}return t}function n(e){return e/1024/1024}return n(i(e))}(e)),this.memalloc[this.state.allocationindex]=e}},{key:"tick",value:function(){var e=this;this.addElement(),this.setState((function(t){return{allocated:t.allocated+e.blockSize,remaining:t.remaining-e.blockSize,allocationindex:t.allocationindex+1}})),(this.state.remaining<this.blockSize||this.state.allocated>this.stopAt)&&clearInterval(this.interval)}},{key:"componentDidMount",value:function(){var e=this;this.interval=setInterval((function(){return e.tick()}),5)}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"render",value:function(){var e=this.getMemory();return Object(r.jsxDEV)("div",{className:"MemoryStat",children:["Memory: ",e,Object(r.jsxDEV)(g,{allocated:this.state.allocated,remaining:this.state.remaining},void 0,!1,{fileName:M,lineNumber:54,columnNumber:18},this)]},void 0,!0,{fileName:M,lineNumber:53,columnNumber:13},this)}}]),i}(a.a.Component),g=function(e){var t=e.allocated,i=e.remaining,n=t.toFixed(3),a=i.toFixed(3);return Object(r.jsxDEV)("div",{children:Object(r.jsxDEV)("span",{className:"memtest",children:["Allocated: ",n,"MB Estimated Remaining: ",a,"MB"]},void 0,!0,{fileName:M,lineNumber:66,columnNumber:9},k)},void 0,!1,{fileName:M,lineNumber:65,columnNumber:9},k)};i(16);var x="/Users/nathaniel.wright/git/tvdevicestats/src/index.js",D=function(e){Object(c.a)(i,e);var t=Object(l.a)(i);function i(){return Object(o.a)(this,i),t.apply(this,arguments)}return Object(s.a)(i,[{key:"render",value:function(){return Object(r.jsxDEV)("div",{className:"DeviceStats",children:[Object(r.jsxDEV)(j,{},void 0,!1,{fileName:x,lineNumber:14,columnNumber:17},this),Object(r.jsxDEV)(S,{},void 0,!1,{fileName:x,lineNumber:15,columnNumber:17},this)]},void 0,!0,{fileName:x,lineNumber:13,columnNumber:13},this)}}]),i}(a.a.Component);m.a.render(Object(r.jsxDEV)(D,{},void 0,!1,{fileName:x,lineNumber:23,columnNumber:5},void 0),document.getElementById("root"))}},[[17,1,2]]]);
//# sourceMappingURL=main.88e4939f.chunk.js.map