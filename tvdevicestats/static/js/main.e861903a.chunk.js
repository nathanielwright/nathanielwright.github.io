(this.webpackJsonptvdevicestats=this.webpackJsonptvdevicestats||[]).push([[0],{14:function(e,t,n){},15:function(e,t,n){"use strict";n.r(t);var i={};n.r(i),n.d(i,"PlayReady",(function(){return v}));var a=n(2),r=n(3),o=n(5),c=n(4),s=n(0),u=n(1),l=n.n(u),p=n(8),d=n.n(p),b=n(6),y=["Default EME","MS EME","Webkit EME"],m={widevine:["com.widevine.alpha"],playready:["com.microsoft.playready","com.youtube.playready"],clearkey:["webkit-org.w3.clearkey","org.w3.clearkey"],fairplay:["com.apple.fps.2_0","com.apple.fps.1_0"],primetime:["com.adobe.primetime","com.adobe.access"]},h=[{initDataTypes:["cenc"],audioCapabilities:[{contentType:'audio/mp4;codecs="mp4a.40.2"'}],videoCapabilities:[{contentType:'video/mp4;codecs="avc1.42E01E"'}]}];var v=function(e){Object(o.a)(n,e);var t=Object(c.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"render",value:function(){return Object(s.jsxs)("div",{children:[Object(s.jsx)("video",{autoplay:!0,controls:!0,id:"player",style:"width: 100%",children:Object(s.jsx)("source",{src:"./public/LicenseAcquisition.xml",type:"application/vnd.ms-playready.initiator+xml"})}),Object(s.jsxs)("script",{children:["var video=document.getElementById('player'); video.onerror = function(err) ",document.getElementById("error").innerHTML="".message,"video.onloadstart = function () ",document.getElementById("error").innerHTML="onloadstart","video.onprogress = function() ",document.getElementById("error".innerHTML="progress")]})]})}}]),n}(l.a.Component),j=function(e){Object(o.a)(n,e);var t=Object(c.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"render",value:function(){var e=y;return Object(s.jsxs)("div",{className:"EME",children:[e.map((function(e){return Object(s.jsx)(f,{EME:e},e)})),Object(s.jsx)(i,{})]},"EME")}}]),n}(l.a.Component),f=function(e){Object(o.a)(n,e);var t=Object(c.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"render",value:function(){return Object(s.jsxs)("div",{className:"DRMKeySystem",id:this.props.keySystem,children:[this.props.EME,Object(s.jsx)(E,{EME:this.props.EME})]},this.props.EME+"-"+this.props.keySystem)}}]),n}(l.a.Component),E=function(e){Object(o.a)(n,e);var t=Object(c.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"render",value:function(){var e=this,t=m;return Object(s.jsx)("div",{children:Object.keys(t).map((function(n){return Object(s.jsx)("div",{id:n,children:t[n].map((function(t){return Object(s.jsx)(O,{EME:e.props.EME,subKey:t},e.props.EME+"-"+n+"-"+t)}))},e.props.EME+"-"+n)}))})}}]),n}(l.a.Component),O=function(e){Object(o.a)(n,e);var t=Object(c.a)(n);function n(e){var i;return Object(a.a)(this,n),(i=t.call(this,e)).state={colour:"black"},i.setSubSystem=i.setSubSystem.bind(Object(b.a)(i)),i}return Object(r.a)(n,[{key:"setSubSystem",value:function(e){var t;t=e?"green":"red",this.changeColour(t)}},{key:"componentDidMount",value:function(){var e,t,n;"Default EME"===this.props.EME&&(e=this.setSubSystem,this.props.EME,t=this.props.subKey,n=h,window.navigator.requestMediaKeySystemAccess?window.navigator.requestMediaKeySystemAccess(t,n).then((function(t){e(!0)})).catch((function(t){e(!1)})):e(!1)),"Webkit EME"===this.props.EME&&function(e,t,n,i){var a=document.createElement("video");"function"===typeof a.webkitGenerateKeyRequest&&a.canPlayType(i,n)?e(!0):e(!1)}(this.setSubSystem,this.props.EME,this.props.subKey,"video/mp4"),"MS EME"===this.props.EME&&function(e,t,n){"function"===typeof window.MSMediaKeys&&window.MSMediaKeys.isTypeSupported(n)?e(!0):e(!1)}(this.setSubSystem,this.props.EME,this.props.subKey)}},{key:"changeColour",value:function(e){this.setState({colour:e})}},{key:"render",value:function(){return Object(s.jsx)("span",{id:this.props.subKey,className:"drmSubKey",style:{color:this.state.colour},children:this.props.subKey})}}]),n}(l.a.Component),M=function(e){Object(o.a)(n,e);var t=Object(c.a)(n);function n(e){var i;return Object(a.a)(this,n),(i=t.call(this,e)).state={remaining:1024*navigator.deviceMemory,allocated:0,allocationindex:0},i.blockSize=0,i.memalloc=[],i.stopAt=512,i}return Object(r.a)(n,[{key:"getMemory",value:function(){return(1024*navigator.deviceMemory).toString()+" MB"}},{key:"addElement",value:function(){for(var e=[],t=0;t<1e3;t++)e.push(t/10);0===this.blockSize&&(this.blockSize=function(e){var t=0;function n(e){if(null!==e&&void 0!==e)switch(typeof e){case"number":t+=8;break;case"string":t+=2*e.length;break;case"boolean":t+=4;break;case"object":var i=Object.prototype.toString.call(e).slice(8,-1);if("Object"===i||"Array"===i)for(var a in e)e.hasOwnProperty(a)&&n(e[a]);else t+=2*e.toString().length;break;default:console.log("Unhandled type: "+typeof e)}return t}function i(e){return e/1024/1024}return i(n(e))}(e)),this.memalloc[this.state.allocationindex]=e}},{key:"tick",value:function(){var e=this;this.addElement(),this.setState((function(t){return{allocated:t.allocated+e.blockSize,remaining:t.remaining-e.blockSize,allocationindex:t.allocationindex+1}})),(this.state.remaining<this.blockSize||this.state.allocated>this.stopAt)&&clearInterval(this.interval)}},{key:"componentDidMount",value:function(){var e=this;this.interval=setInterval((function(){return e.tick()}),5)}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"render",value:function(){var e=this.getMemory();return Object(s.jsxs)("div",{className:"MemoryStat",children:["Memory: ",e,Object(s.jsx)(k,{allocated:this.state.allocated,remaining:this.state.remaining})]})}}]),n}(l.a.Component),k=function(e){var t=e.allocated,n=e.remaining,i=t.toFixed(3),a=n.toFixed(3);return Object(s.jsx)("div",{children:Object(s.jsxs)("span",{className:"memtest",children:["Allocated: ",i,"MB Estimated Remaining: ",a,"MB"]})})};n(14);var S=function(e){Object(o.a)(n,e);var t=Object(c.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"render",value:function(){return Object(s.jsxs)("div",{className:"DeviceStats",children:[Object(s.jsx)(j,{}),Object(s.jsx)(M,{})]})}}]),n}(l.a.Component);d.a.render(Object(s.jsx)(S,{}),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.e861903a.chunk.js.map