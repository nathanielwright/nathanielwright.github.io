(this.webpackJsonptvdevicestats=this.webpackJsonptvdevicestats||[]).push([[0],{14:function(e,t,n){},15:function(e,t,n){"use strict";n.r(t);var a=n(2),i=n(3),r=n(5),s=n(4),c=n(0),o=n(1),u=n.n(o),l=n(8),p=n.n(l),d=n(6),b=["Default EME","MS EME","Webkit EME"],y={widevine:["com.widevine.alpha"],playready:["com.microsoft.playready","com.youtube.playready"],clearkey:["webkit-org.w3.clearkey","org.w3.clearkey"],fairplay:["com.apple.fps.2_0","com.apple.fps.1_0"],primetime:["com.adobe.primetime","com.adobe.access"]},h=[{initDataTypes:["cenc"],audioCapabilities:[{contentType:'audio/mp4;codecs="mp4a.40.2"'}],videoCapabilities:[{contentType:'video/mp4;codecs="avc1.42E01E"'}]}];var m=function(e){Object(r.a)(n,e);var t=Object(s.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){var e=b;return Object(c.jsx)("div",{className:"EME",children:e.map((function(e){return Object(c.jsx)(v,{EME:e},e)}))},"EME")}}]),n}(u.a.Component),v=function(e){Object(r.a)(n,e);var t=Object(s.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){return Object(c.jsxs)("div",{className:"DRMKeySystem",id:this.props.keySystem,children:[this.props.EME,Object(c.jsx)(j,{EME:this.props.EME})]},this.props.EME+"-"+this.props.keySystem)}}]),n}(u.a.Component),j=function(e){Object(r.a)(n,e);var t=Object(s.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){var e=this,t=y;return Object(c.jsx)("div",{children:Object.keys(t).map((function(n){return Object(c.jsx)("div",{id:n,children:t[n].map((function(t){return Object(c.jsx)(f,{EME:e.props.EME,subKey:t},e.props.EME+"-"+n+"-"+t)}))},e.props.EME+"-"+n)}))})}}]),n}(u.a.Component),f=function(e){Object(r.a)(n,e);var t=Object(s.a)(n);function n(e){var i;return Object(a.a)(this,n),(i=t.call(this,e)).state={colour:"black"},i.setSubSystem=i.setSubSystem.bind(Object(d.a)(i)),i}return Object(i.a)(n,[{key:"setSubSystem",value:function(e){var t;t=e?"green":"red",this.changeColour(t)}},{key:"componentDidMount",value:function(){var e,t,n;"Default EME"===this.props.EME&&(e=this.setSubSystem,this.props.EME,t=this.props.subKey,n=h,window.navigator.requestMediaKeySystemAccess?window.navigator.requestMediaKeySystemAccess(t,n).then((function(t){e(!0)})).catch((function(t){e(!1)})):e(!1)),"Webkit EME"===this.props.EME&&function(e,t,n,a){var i=document.createElement("video");"function"===typeof i.webkitGenerateKeyRequest&&i.canPlayType(a,n)?e(!0):e(!1)}(this.setSubSystem,this.props.EME,this.props.subKey,"video/mp4"),"MS EME"===this.props.EME&&function(e,t,n){"function"===typeof window.MSMediaKeys&&window.MSMediaKeys.isTypeSupported(n)?e(!0):e(!1)}(this.setSubSystem,this.props.EME,this.props.subKey)}},{key:"changeColour",value:function(e){this.setState({colour:e})}},{key:"render",value:function(){return Object(c.jsx)("span",{id:this.props.subKey,className:"drmSubKey",style:{color:this.state.colour},children:this.props.subKey})}}]),n}(u.a.Component),E=function(e){Object(r.a)(n,e);var t=Object(s.a)(n);function n(e){var i;return Object(a.a)(this,n),(i=t.call(this,e)).state={remaining:1024*navigator.deviceMemory,allocated:0,allocationindex:0},i.blockSize=0,i.memalloc=[],i.stopAt=512,i}return Object(i.a)(n,[{key:"getMemory",value:function(){return(1024*navigator.deviceMemory).toString()+" MB"}},{key:"addElement",value:function(){for(var e=[],t=0;t<1e3;t++)e.push(t/10);0===this.blockSize&&(this.blockSize=function(e){var t=0;function n(e){if(null!==e&&void 0!==e)switch(typeof e){case"number":t+=8;break;case"string":t+=2*e.length;break;case"boolean":t+=4;break;case"object":var a=Object.prototype.toString.call(e).slice(8,-1);if("Object"===a||"Array"===a)for(var i in e)e.hasOwnProperty(i)&&n(e[i]);else t+=2*e.toString().length;break;default:console.log("Unhandled type: "+typeof e)}return t}function a(e){return e/1024/1024}return a(n(e))}(e)),this.memalloc[this.state.allocationindex]=e}},{key:"tick",value:function(){var e=this;this.addElement(),this.setState((function(t){return{allocated:t.allocated+e.blockSize,remaining:t.remaining-e.blockSize,allocationindex:t.allocationindex+1}})),(this.state.remaining<this.blockSize||this.state.allocated>this.stopAt)&&clearInterval(this.interval)}},{key:"componentDidMount",value:function(){var e=this;this.interval=setInterval((function(){return e.tick()}),5)}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"render",value:function(){var e=this.getMemory();return Object(c.jsxs)("div",{className:"MemoryStat",children:["Memory: ",e,Object(c.jsx)(O,{allocated:this.state.allocated,remaining:this.state.remaining})]})}}]),n}(u.a.Component),O=function(e){var t=e.allocated,n=e.remaining,a=t.toFixed(3),i=n.toFixed(3);return Object(c.jsx)("div",{children:Object(c.jsxs)("span",{className:"memtest",children:["Allocated: ",a,"MB Estimated Remaining: ",i,"MB"]})})};n(14);var M=function(e){Object(r.a)(n,e);var t=Object(s.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){return Object(c.jsxs)("div",{className:"DeviceStats",children:[Object(c.jsx)(m,{}),Object(c.jsx)(E,{})]})}}]),n}(u.a.Component);p.a.render(Object(c.jsx)(M,{}),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.7bf7e37e.chunk.js.map